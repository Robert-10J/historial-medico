let paso=1;const pasoInicial=1,pasoFinal=2;function iniciarApp(){mostrarSeccion(),tabs(),botonesPaginador(),paginaSiguiente(),paginaAnterior(),consultarPacientes(),buscarPaciente()}async function consultarPacientes(){try{const e="http://localhost:3000/api/pacientes",t=await fetch(e);mostrarPacientes(await t.json())}catch(e){console.log(e)}}async function buscarPaciente(){const e=document.querySelector("#buscarPaciente"),t=document.querySelector("#nombrePaciente");try{const e="http://localhost:3000/api/pacientes",t=await fetch(e);await t.json()}catch(e){console.log(e)}t.addEventListener("input",e=>{console.log(e.target.value)}),e.addEventListener("submit",e=>{e.preventDefault()})}function mostrarSeccion(){const e=document.querySelector(".mostrar");e&&e.classList.remove("mostrar");document.querySelector("#paso-"+paso).classList.add("mostrar");const t=document.querySelector(".actual");t&&t.classList.remove("actual");document.querySelector(`[data-paso="${paso}"]`).classList.add("actual")}function tabs(){document.querySelectorAll(".tabs button").forEach(e=>{e.addEventListener("click",e=>{paso=parseInt(e.target.dataset.paso),mostrarSeccion(),botonesPaginador()})})}function botonesPaginador(){const e=document.querySelector("#siguiente"),t=document.querySelector("#anterior");1===paso?(t.classList.add("ocultar"),e.classList.remove("ocultar")):2===paso&&(t.classList.remove("ocultar"),e.classList.add("ocultar")),mostrarSeccion()}function paginaAnterior(){document.querySelector("#anterior").addEventListener("click",()=>{paso<=1||(paso--,botonesPaginador())})}function paginaSiguiente(){document.querySelector("#siguiente").addEventListener("click",()=>{paso>=2||(paso++,botonesPaginador())})}function mostrarPacientes(e){e.forEach(e=>{const{id:t,nombre:a,apellidos:n,sexo:o,fechaNacimiento:c}=e,s=document.createElement("P");s.classList.add("nombre-paciente"),s.innerHTML=`<span>Nombre:</span> ${a} ${n}`;const i=document.createElement("P");i.classList.add("genero-paciente"),i.innerHTML="<span>Genero:</span> "+o;const r=document.createElement("P");r.classList.add("fechaNa-paciente"),r.innerHTML="<span>Fecha Nacimiento:</span> "+c;const d=document.createElement("DIV");d.classList.add("paciente"),d.dataset.idPaciente=t,d.appendChild(s),d.appendChild(i),d.appendChild(r),document.querySelector("#pacientes").appendChild(d)})}document.addEventListener("DOMContentLoaded",(function(){iniciarApp()}));